---
layout: post
title: "LDA in Ruby"
tags: ["c", "c", "code", "code", "computational linguistics", "computational linguistics", "git", "git", "github", "github", "latent dirichlet allocation", "latent dirichlet allocation", "machine learning", "machine learning", "programming", "programming", "ruby", "ruby", "ruby gems", "ruby gems", "rubyforge", "rubyforge", "topic modeling", "topic modeling"]
---
Original post can be found at:  <a href="http://ealdent.wordpress.com/2008/11/17/lda-in-ruby/" target="_blank">http://ealdent.wordpress.com/2008/11/17/lda-in-ruby/</a><br /><br />
<p>Since Ruby is my new favorite toy, I thought it would be fun to try my hand at C extensions.  I came across <a href="http://www.cs.princeton.edu/~blei/lda-c/" target="_blank">David Blei's C code</a> for <a href="http://mendicantbug.com/2008/11/16/latent-dirichlet-allocation/" target="_self">Latent Dirichlet Allocation</a> and it looked simple enough to convert into a Ruby module.  Ruby makes it very easy to wrap some C functions (which is good to know if you need a really fast implementation of something that gets called alot).  Wrapping a C library is slightly harder, but not horribly so.  Probably most of my challenge was the fact that it's been so long since I wrote anything in C.</p>
<p>Since the code is open source, I decided to release the Ruby wrapper as <a href="http://github.com/ealdent/lda-ruby/wikis" target="_blank">a gem</a> on <a href="http://github.com" target="_blank">GitHub</a>.  I chose GitHub over <a href="http://rubyforge.org/" target="_blank">RubyForge</a>, because it uses <a href="http://git.or.cz" target="_blank">Git</a> and freakin' rocks.  But GitHub is a story for another day.  Feel free to contribute and extend the project if you're so inclined.</p>

A basic usage example:

[sourcecode lang="ruby"]
require 'lda'
# create an Lda object for training
lda = Lda::Lda.new
corpus = Lda::Corpus.new("data/data_file.dat")
lda.corpus = corpus
# run EM algorithm using random starting points
lda.em("random")
lda.load_vocabulary("data/vocab.txt")
# print the topic 20 words per topic
lda.print_topics(20)
[/sourcecode]
<p>
You can also download the gem from GitHub directly:

<code>gem sources -a http://gems.github.com
sudo gem install ealdent-lda-ruby</code>
</p><p>You only need the first line if you haven't added GitHub to your sources before.</p>
